<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cast</title>
</head>
<body>
    <div id="movie-details"></div>
</body>
<style>
    /* Your CSS styles here */
</style>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        console.log("hi");
        // Extract the movie ID from the URL parameters
        const params = new URLSearchParams(window.location.search);
        const movieId = params.get("id");
        // If no movie ID is found in the URL, show a default message
        if (!movieId) {
            document.getElementById("movie-details").innerHTML = "<p>No movie selected.</p>";
            return;
        }
        // Fetch movie data from the JSON file
        fetch('Data.json')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                // Find the movie with the matching ID
                const movie = data.movies.find(movie => movie.id === movieId);
                if (movie) {
                    // Display movie details if found
                    displayMovieDetails(movie);
                } else {
                    document.getElementById("movie-details").innerHTML = "<p>Movie not found.</p>";
                }
            })
            .catch(error => {
                console.error("Error fetching movie data:", error);
                document.getElementById("movie-details").innerHTML = "<p>Unable to load movie details.</p>";
            });
    });
    // Function to display movie details
    function displayMovieDetails(movie) {
        const movieDetailsContainer = document.getElementById("movie-details");
        console.log(movieDetailsContainer);
        // Set innerHTML using the provided structure
        movieDetailsContainer.innerHTML = `
            <div class="movie-card">
                <img class="movie-image" src="${movie.poster}" alt="${movie.title}">
                <div class="movie-info">
                    <h2>${movie.title}</h2>
                    <p>Release Date: ${movie.releaseDate}</p>
                    <p>Cast: ${movie.cast.map(castMember => `${castMember.name} as ${castMember.role}`).join(', ')}</p>
                    <p>Crew: ${movie.crew.map(crewMember => `${crewMember.name} (${crewMember.role})`).join(', ')}</p>
                    <a href="${movie.trailerLink}" target="_blank">Watch Trailer</a>
                </div>
            </div>
        `;
    }
</script>
</html>